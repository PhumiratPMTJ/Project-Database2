var product = [{
    id: 1,
    img: 'https://static.nike.com/a/images/t_PDP_1728_v1/f_auto,q_auto:eco/7d3215e5-f431-4b02-8875-a069ca8acc87/NIKE+RUN+SWIFT+3.png',
    name: 'Nike Run Swift 3',
    price: 3000,
    description: 'Nike Lorem, ipsum dolor sit amet consectetur adipisicing elit. Quam, labore dolorum optio ad consequatur cupiditate!',
    type: 'shoe'
}, {
    id: 2,
    img: 'https://assets.adidas.com/images/h_2000,f_auto,q_auto,fl_lossy,c_fill,g_auto/43467503eadf4300b94fefdbba19ca7b_9366/Manchester_United_24-25_JF1291_HM3_hover.jpg',
    name: 'Shirt United 24/25',
    price: 4600,
    description: 'Adidas shirt Lorem, ipsum dolor sit amet consectetur adipisicing elit. Quam, labore dolorum optio ad consequatur cupiditate!',
    type: 'shirt'
}, {
    id: 3,
    img: 'https://assets.adidas.com/images/h_2000,f_auto,q_auto,fl_lossy,c_fill,g_auto/318623b0d8b94186810c20ecf3c2be61_9366/Ultraboost_5_Shoes_-_Digital_Camo_Black_JI1521_06_standard.jpg',
    name: 'Adidas Ultraboost 5 Shoes-Digital Camo',
    price: 6500,
    description: 'Adidas shoe Lorem, ipsum dolor sit amet consectetur adipisicing elit. Quam, labore dolorum optio ad consequatur cupiditate!',
    type: 'shoe'
}, {
    id: 4,
    img: 'https://static.nike.com/a/images/t_PDP_1728_v1/f_auto,q_auto:eco/2d39ad1c-66d1-4fc1-ad72-a10946f731e2/LFC+M+NK+DFADV+JSY+SS+MATCH+HM.png',
    name: 'Shirt Liverpool 23/24',
    price: 4290,
    description: 'Adidas shoe Lorem, ipsum dolor sit amet consectetur adipisicing elit. Quam, labore dolorum optio ad consequatur cupiditate!',
    type: 'shirt'
}, {
    id: 5,
    img: 'https://static.nike.com/a/images/t_PDP_1728_v1/f_auto,q_auto:eco/6a21b16e-6647-45f3-ae73-bc770ab7a7cf/ZOOM+SUPERFLY+9+ELITE+MR+FG.png',
    name: 'Nike Zoom Mercurial Superfly 9 Elite "Marcus Rashford"',
    price: 11300,
    description: 'Adidas shoe Lorem, ipsum dolor sit amet consectetur adipisicing elit. Quam, labore dolorum optio ad consequatur cupiditate!',
    type: 'shoe'
}, {
    id: 6,
    img: 'https://static.nike.com/a/images/t_PDP_1728_v1/f_auto,q_auto:eco/4fe5632d-06c5-436c-804c-9ca0a15d06a4/NIKE+SKILLS-FA24.png',
    name: 'Nike Skills',
    price: 500,
    description: 'Adidas shoe Lorem, ipsum dolor sit amet consectetur adipisicing elit. Quam, labore dolorum optio ad consequatur cupiditate!',
    type: 'equipment'
}, {
    id: 7,
    img: 'https://assets.adidas.com/images/h_2000,f_auto,q_auto,fl_lossy,c_fill,g_auto/bbf7df1e149748fa954fe21194fa0881_9366/F50_Elite_Laceless_Firm_Ground_IE3185_06_standard.jpg',
    name: 'Adidas F50 Elite Laceless Firm Ground',
    price: 9500,
    description: 'Adidas shoe Lorem, ipsum dolor sit amet consectetur adipisicing elit. Quam, labore dolorum optio ad consequatur cupiditate!',
    type: 'shoe'
}, {
    id: 8,
    img: 'https://assets.adidas.com/images/h_2000,f_auto,q_auto,fl_lossy,c_fill,g_auto/4781adb4e19546c9a22bae4201698de7_9366/Pro_3.0_Official_Game_HM4976_01_standard.jpg',
    name: 'Basketball Natural / Black Pro 3.0 Official Game',
    price: 2300,
    description: 'Adidas shoe Lorem, ipsum dolor sit amet consectetur adipisicing elit. Quam, labore dolorum optio ad consequatur cupiditate!',
    type: 'equipment'
}, {
    id: 9,
    img: 'https://images.puma.com/image/upload/f_auto,q_auto,b_rgb:fafafa,w_1000,h_1000/global/778613/01/mod03/fnd/THA/fmt/png/%E0%B9%80%E0%B8%AA%E0%B8%B7%E0%B9%89%E0%B8%AD%E0%B8%A2%E0%B8%B7%E0%B8%94%E0%B8%8A%E0%B8%B2%E0%B8%A2%E0%B8%8A%E0%B8%B8%E0%B8%94%E0%B9%80%E0%B8%AB%E0%B8%A2%E0%B9%89%E0%B8%B2%E0%B9%81%E0%B8%97%E0%B9%89%E0%B8%82%E0%B8%AD%E0%B8%87%E0%B8%97%E0%B8%B5%E0%B8%A1-Manchester-City-%E0%B8%A4%E0%B8%94%E0%B8%B9%E0%B8%81%E0%B8%B2%E0%B8%A5-24/25',
    name: 'Shirt Manchester City 24/25',
    price: 4600,
    description: 'Adidas shoe Lorem, ipsum dolor sit amet consectetur adipisicing elit. Quam, labore dolorum optio ad consequatur cupiditate!',
    type: 'shirt'
}, {
    id: 10,
    img: 'https://images.puma.com/image/upload/f_auto,q_auto,b_rgb:fafafa,w_1000,h_1000/global/090425/05/fnd/THA/fmt/png/%E0%B8%81%E0%B8%A3%E0%B8%B0%E0%B9%80%E0%B8%9B%E0%B9%8B%E0%B8%B2%E0%B8%84%E0%B8%B2%E0%B8%94%E0%B9%80%E0%B8%AD%E0%B8%A7-PR-Classic-Running',
    name: 'PR Classic Running Waist Bag',
    price: 1200,
    description: 'Adidas shoe Lorem, ipsum dolor sit amet consectetur adipisicing elit. Quam, labore dolorum optio ad consequatur cupiditate!',
    type: 'bag'
}, {
    id: 11,
    img: 'https://images.puma.com/image/upload/f_auto,q_auto,b_rgb:fafafa,w_1000,h_1000/global/023711/07/fnd/THA/fmt/png/%E0%B8%AB%E0%B8%A1%E0%B8%A7%E0%B8%81%E0%B8%A7%E0%B8%B4%E0%B9%88%E0%B8%87-Silver-Cat',
    name: 'Silver Cat',
    price: 790,
    description: 'Upgrade your wardrobe to essentials for the modern athlete with our Poly Running Cap. This stylish hat features the construction of a classic baseball cap. The fit is adjustable and has a rounded brim. minimalist brand logo Embroidered eyelets for ventilation. It also has dryCELL technology to absorb moisture.',
    type: 'hat'
}, {
    id: 12,
    img: 'https://static.nike.com/a/images/t_PDP_1728_v1/f_auto,q_auto:eco/c06c41f3-73a8-44b8-a62a-680191f82961/U+NK+DF+ACE+VISOR+U+CB+NEW+P.png',
    name: 'Nike Ace',
    price: 700,
    description: 'This wire-free visor is made from stretchy, sweat-wicking fabric to help you stay cool on the court and on warmer days.',
    type: 'hat'
}, {
    id: 13,
    img: 'https://static.nike.com/a/images/t_PDP_1728_v1/f_auto,q_auto:eco/77ef5204-78a1-49eb-aec1-42888949766b/U+NK+DF+RISE+CAP+S+CB+SNBK+P.png',
    name: 'Nike Dri-FIT Rise',
    price: 850,
    description: 'Designed for the gym, work and everything in between, the Nike Dri-FIT Rise Cap is ready for all-day wear. The structured, high-depth design features stretchy, sweat-wicking fabric that holds its shape. Finished with an adjustable width band for confidence with every step and rep of your routine..',
    type: 'hat'
}, {
    id: 14,
    img: 'https://static.supersports.co.th/NIKE-NIKEAeroBillAdjustableUnisexGolfVisor-SSP64336145-1?wid=550',
    name: 'NIKE AeroBill Adjustable',
    price: 850,
    description: 'Designed for the gym, work and everything in between, the Nike Dri-FIT Rise Cap is ready for all-day wear. The structured, high-depth design features stretchy, sweat-wicking fabric that holds its shape. Finished with an adjustable width band for confidence with every step and rep of your routine..',
    type: 'hat'
}, {
    id: 15,
    img: 'https://static.supersports.co.th/YONEX-YO136SP280DUTH-SSP66477792-1?$JPEG$&wid=550',
    name: 'YONEX Nanoflare 800 Pro',
    price: 6665,
    description: 'YONEX Nanoflare 800 PRO badminton racket comes with improved technology to increase speed and power of the ball. It also enhances the creation of a fast swing rhythm. The shape of the shaft is hard and the Super Slim Shaft and E.B. CAP PLUS above the handle allow for quick recovery.',
    type: 'accessories'
}, {
    id: 16,
    img: 'https://static.supersports.co.th/YONEX-YONEXGRAlpha2PackBadmintonRacket-SSP52045202-1?wid=550',
    name: 'YONEX GR Alpha',
    price: 590,
    description: 'Gr Alpha, a powerful badminton racket from Yonex. And has been developed to be durable, strong, lightweight, and provide high accuracy in hitting. Suitable for badminton players who want performance on every court.',
    type: 'accessories'
}, {
    id: 17,
    img: 'https://static.supersports.co.th/WILSON-WI134SP677EATH-SSP67400430-1?$JPEG$&wid=550',
    name: 'WILSON Tour Slam Lite',
    price: 2100,
    description: 'The WILSON Tour Slam Lite tennis racket is the ultimate tennis racquet for dominating the court with precision and power. This sleek, lightweight tennis racquet is designed for players of all levels who want to take their game to the next level.',
    type: 'accessories'
}, {
    id: 18,
    img: 'https://assets.adidas.com/images/h_2000,f_auto,q_auto,fl_lossy,c_fill,g_auto/c30ac1bb87db408cbb8b969924504b40_9366/GYM_SHORT_JC5244_21_model.jpg',
    name: 'GYM+ SHORT',
    price: 1200,
    type: 'pants'
}, {
    id: 19,
    img: 'https://assets.adidas.com/images/h_840,f_auto,q_auto,fl_lossy,c_fill,g_auto/0b9d46b47c114a43a36faf1500889035_9366/Adicolor_Classics_HS2069_01_laydown.jpg',
    name: 'Adicolor Classics',
    price: 2100,
    description: 'The WILSON Tour Slam Lite tennis racket is the ultimate tennis racquet for dominating the court with precision and power. This sleek, lightweight tennis racquet is designed for players of all levels who want to take their game to the next level.',
    type: 'pants'
}, {
    id: 20,
    img: 'https://images.puma.com/image/upload/f_auto,q_auto,b_rgb:fafafa,w_1000,h_1000/global/524048/01/bv/fnd/THA/fmt/png/%E0%B8%81%E0%B8%B2%E0%B8%87%E0%B9%80%E0%B8%81%E0%B8%87%E0%B8%A7%E0%B8%B4%E0%B9%88%E0%B8%87%E0%B8%A3%E0%B8%B1%E0%B8%94%E0%B8%A3%E0%B8%B9%E0%B8%9B%E0%B8%9C%E0%B8%B9%E0%B9%89%E0%B8%8A%E0%B8%B2%E0%B8%A2%E0%B8%9C%E0%B9%89%E0%B8%B2%E0%B8%82%E0%B8%B9%E0%B8%94%E0%B8%82%E0%B8%99',
    name: 'กางเกงวิ่งรัดรูปผู้ชายผ้าขูดขน',
    price: 2300,
    description: 'These running tights are the perfect choice for cool morning runs.',
    type: 'pants'
}, {
    id: 21,
    img: 'https://static.supersports.co.th/VICTOR-VICTORMasterNO312PiecesShuttlecock-SSP64283234-1?wid=550',
    name: 'VICTOR Master NO.3',
    price: 1020,
    type: 'equipment'
}, {
    id: 22,
    img: 'https://static.supersports.co.th/WILSON-WI134SP191EDTH-SSP66863090-1?$JPEG$&wid=550',
    name: 'WILSON Tour Premier All Court',
    price: 280,
    type: 'equipment'
}, {
    id: 23,
    img: 'https://www.badmintonplaza.com/images/BA92031EX-BKYL-A.jpg',
    name: 'กระเป๋าแบดมินตัน Yonex 2020 Pro Tournament',
    price: 2540,
    type: 'bag'
}, {
    id: 24,
    img: 'https://static.supersports.co.th/NIKE-NI083SP493DNTH-SSP65715611-1?$JPEG$&wid=550',
    name: 'NIKE Essential Long Sleeve Hydroguard เสื้อว่ายน้ำผู้ชาย',
    price: 1272,
    type: 'shirt'
}, {
    id: 25,
    img: 'https://assets.adidas.com/images/h_2000,f_auto,q_auto,fl_lossy,c_fill,g_auto/78b62417f1e042aeb25e3353d278de3b_9366/Real_Madrid_24-25_Home_Authentic_Jersey_White_IX8095_HM1.jpg',
    name: 'Shirt Real Madrid 24/25 Home Authentic Jersey',
    price: 4600,
    type: 'shirt'
}, {
    id: 26,
    img: 'https://assets.adidas.com/images/h_2000,f_auto,q_auto,fl_lossy,c_fill,g_auto/617921e1d5be4abe910417b155b5d3f5_9366/Arsenal_24-25_Home_Authentic_Jersey_Red_IT6140_HM1.jpg',
    name: 'Shirt Arsenal 24/25 Home Authentic Jersey',
    price: 4600,
    type: 'shirt'
}, {
    id: 27,
    img: 'https://static.nike.com/a/images/t_PDP_1728_v1/f_auto,q_auto:eco/c9817b04-c50c-4f36-90c8-ae85e03c1ea1/K+NK+DF+REVERSIBLE+JSY+TANK.png',
    name: 'Nike Air Slim',
    price: 950,
    type: 'shirt'
}, {
    id: 28,
    img: 'https://static.nike.com/a/images/t_PDP_1728_v1/f_auto,q_auto:eco/2b86c857-7023-4d5b-954c-da9e39d95e50/AS+M+NK+DF+DNA+JERSEY+NAOS.png',
    name: 'Nike DNA',
    price: 1700,
    type: 'shirt'
}, {
    id: 29,
    img: 'https://static.nike.com/a/images/t_PDP_1728_v1/f_auto,q_auto:eco/67dbc280-1e3e-42e3-b76d-b663a470c835/NK+HPS+ELT+DUFF+-+FA23.png',
    name: 'Nike Hoops Elite',
    price: 2300,
    type: 'bag'
}, {
    id: 30,
    img: 'https://static.nike.com/a/images/t_PDP_1728_v1/f_auto,q_auto:eco/a6505d0f-c6bc-418c-8fbf-1c4966468b13/NK+HERITAGE+DRAWSTRING.png',
    name: 'Nike Heritage',
    price: 750,
    type: 'bag'
}, {
    id: 31,
    img: 'https://static.nike.com/a/images/t_PDP_1728_v1/f_auto,q_auto:eco/12d63233-644e-4da9-a11e-acad2e71cebe/NK+ACDMY+TEAM+BKPK+2.3.png',
    name: 'Nike Academy Team',
    price: 1950,
    type: 'bag'
}, {
    id: 32,
    img: 'https://static.supersports.co.th/TITLEIST-TITLEISTTSi1100AldilaAscent40FlexRDrivers-SSP62049085-3?$JPEG$&wid=550',
    name: 'TITLEIST TSi2 10 Kuro Black 50 Flex R',
    price: 20180,
    type: 'accessories'
}, {
    id: 33,
    img: 'https://static.supersports.co.th/TAYLORMADE-TAYLORMADEM65PFlexSIrons-SSP58256879-1?wid=550',
    name: 'TAYLORMADE M6 5-P Flex S',
    price: 18900,
    type: 'accessories'
}, {
    id: 34,
    img: 'https://assets.adidas.com/images/h_2000,f_auto,q_auto,fl_lossy,c_fill,g_auto/b7bbfaed6549408cad8e07ea26ef3f2b_9366/New_York_City_Split_IW9228_HM30.jpg',
    name: 'กางเกงวิ่งขาสั้น New York City Split',
    price: 2200,
    type: 'pants'
}, {
    id: 35,
    img: 'https://assets.adidas.com/images/h_2000,f_auto,q_auto,fl_lossy,c_fill,g_auto/f3cd975b1ee3407f950157f1e7113a67_9366/Train_Essentials_IT5457_21_model.jpg',
    name: 'กางเกงเทรนนิงขายาว Train Essentials',
    price: 2000,
    type: 'pants'
}, {
    id: 36,
    img: 'https://assets.adidas.com/images/h_2000,f_auto,q_auto,fl_lossy,c_fill,g_auto/7661f20b3c444b26913d7fd978f409a9_9366/CLUB_3STR_SHORT_JG3589_01_laydown.jpg',
    name: 'CLUB 3STR SHORT',
    price: 1500,
    type: 'pants'
}, {
    id: 37,
    img: 'https://assets.adidas.com/images/h_2000,f_auto,q_auto,fl_lossy,c_fill,g_auto/264c958ddbe84a0091821b3b2a4c0fde_9366/Tiro_24_Competition_IQ2163_21_model.jpg',
    name: 'กางเกงเทรนนิงขายาวทีมชาติอิตาลี Tiro 24 Competition',
    price: 2600,
    type: 'pants'
}, {
    id: 38,
    img: 'https://static.nike.com/a/images/t_PDP_1728_v1/f_auto,q_auto:eco/1e06cbd8-e211-4f89-8b8d-3afc77a747e0/AS+M+NK+DF+PHENOM+ELITE+TIGHT.png',
    name: 'Nike Phenom Elite',
    price: 2400,
    type: 'pants'
}, {
    id: 39,
    img: 'https://static.nike.com/a/images/t_PDP_1728_v1/f_auto,q_auto:eco/f54be109-bac6-45b3-828e-38ca46fb6c28/SUPERFLY+10+CLUB+FG%2FMG.png',
    name: 'Nike Mercurial Superfly 10 Club',
    price: 2500,
    type: 'shoe'
}, {
    id: 40,
    img: 'https://static.nike.com/a/images/t_PDP_1728_v1/f_auto,q_auto:eco/7b13bc7f-eaa8-4a70-a921-42956d8247fe/ZM+VAPOR+16+ELITE+AG-PRO.png',
    name: 'Nike Mercurial Vapor 16 Elite',
    price: 8700,
    type: 'shoe'
}, {
    id: 41,
    img: 'https://static.nike.com/a/images/t_PDP_1728_v1/f_auto,q_auto:eco/11788e23-8496-4c19-a8a0-a32e45eeaeb8/KD17+EP.png',
    name: 'Nike KD17 EP ASW',
    price: 6000,
    type: 'shoe'
}, {
    id: 42,
    img: 'https://static.nike.com/a/images/t_PDP_1728_v1/f_auto,q_auto:eco/9dc0844d-b67a-4ab2-8f3b-a05300d86132/KD17+EP.png',
    name: 'Nike KD17 EP',
    price: 5700,
    type: 'shoe'
}, {
    id: 43,
    img: 'https://static.nike.com/a/images/t_PDP_1728_v1/f_auto,q_auto:eco/4afbaf04-0f24-4660-a73c-6b4a8d625fa1/G.T.+HUSTLE+ACADEMY+EP.png',
    name: 'Nike G.T. Hustle Academy EP',
    price: 3400,
    type: 'shoe'
}, {
    id: 44,
    img: 'https://images.puma.com/image/upload/f_auto,q_auto,b_rgb:fafafa,w_1000,h_1000/global/107916/03/sv01/fnd/THA/fmt/png/%E0%B8%A3%E0%B8%AD%E0%B8%87%E0%B9%80%E0%B8%97%E0%B9%89%E0%B8%B2%E0%B8%9F%E0%B8%B8%E0%B8%95%E0%B8%9A%E0%B8%AD%E0%B8%A5-FUTURE-7-ULTIMATE-FG/AG',
    name: 'PUMA FUTURE 7 ULTIMATE FG/AG',
    price: 3400,
    type: 'shoe'
}, {
    id: 45,
    img: 'https://images.puma.com/image/upload/f_auto,q_auto,b_rgb:fafafa,w_1000,h_1000/global/107839/01/sv01/fnd/THA/fmt/png/%E0%B8%A3%E0%B8%AD%E0%B8%87%E0%B9%80%E0%B8%97%E0%B9%89%E0%B8%B2%E0%B8%9F%E0%B8%B8%E0%B8%95%E0%B8%9A%E0%B8%AD%E0%B8%A5-PUMA-x-NEYMAR-JR-FUTURE-7-ULTIMATE-FG/AG',
    name: 'PUMA x NEYMAR JR FUTURE 7 ULTIMATE FG/AG',
    price: 8500,
    type: 'shoe'
}, {
    id: 46,
    img: 'https://assets.adidas.com/images/h_2000,f_auto,q_auto,fl_lossy,c_fill,g_auto/8d70d1bbfd7e45d682b13b141b16cbb7_9366/X_Crazyfast_Elite_Laceless_Firm_Ground_IF0671_06_standard.jpg',
    name: 'Adidas X Crazyfast Elite Laceless Firm Ground',
    price: 4800,
    type: 'shoe'
}, {
    id: 47,
    img: 'https://assets.adidas.com/images/h_2000,f_auto,q_auto,fl_lossy,c_fill,g_auto/a2724916c00148678d3cad1f0188553f_9366/Response_Super_2.0_H04562_06_standard.jpg',
    name: 'Adidas Response Super 2.0',
    price: 3200,
    type: 'shoe'
}, {
    id: 48,
    img: 'https://assets.adidas.com/images/h_2000,f_auto,q_auto,fl_lossy,c_fill,g_auto/45d0deae77f846b2bfbb755c397db3bb_9366/Supernova_Stride_2.0_IH8650_06_standard.jpg',
    name: 'Adidas Supernova Stride 2.0',
    price: 3600,
    type: 'shoe'
}, {
    id: 49,
    img: 'https://images.puma.com/image/upload/f_auto,q_auto,b_rgb:fafafa,w_1000,h_1000/global/379067/01/sv01/fnd/THA/fmt/png/%E0%B8%A3%E0%B8%AD%E0%B8%87%E0%B9%80%E0%B8%97%E0%B9%89%E0%B8%B2%E0%B8%A7%E0%B8%B4%E0%B9%88%E0%B8%87-Softride-Enzo-Evo-Hyperwave',
    name: 'PUMA Softride Enzo Evo Hyperwave',
    price: 2800,
    type: 'shoe'
}, {
    id: 50,
    img: 'https://images.puma.com/image/upload/f_auto,q_auto,b_rgb:fafafa,w_1000,h_1000/global/377786/03/sv01/fnd/THA/fmt/png/%E0%B8%A3%E0%B8%AD%E0%B8%87%E0%B9%80%E0%B8%97%E0%B9%89%E0%B8%B2%E0%B8%A7%E0%B8%B4%E0%B9%88%E0%B8%87%E0%B8%9C%E0%B8%B9%E0%B9%89%E0%B8%8A%E0%B8%B2%E0%B8%A2-Deviate-NITRO-Elite-2',
    name: 'PUMA Deviate NITRO Elite 2',
    price: 7000,
    type: 'shoe'
}, {
    id: 51,
    img: 'https://www.butterflythailand.co.th/wp-content/uploads/2017/09/16740_01-1-768x768.jpg',
    name: 'Shake Hand Racket with Rubber 3000',
    price: 999,
    type: 'accessories'
}, {
    id: 50,
    img: 'https://cdn-fafng.nitrocdn.com/swBHwSIEFVcxyaQjYBjFLJWPEuGjxrxh/assets/images/optimized/rev-0ccfe42/www.butterflythailand.co.th/wp-content/uploads/2017/09/16720_01-1-768x768.jpg',
    name: 'Shake Hand Racket with Rubber 1800',
    price: 659,
    type: 'accessories'
}];

$(document).ready(() => {
    var html = '';
    for (let i = 0; i < product.length; i++) {
        html += `
            <div onclick="openProductDetail(${i})" class="product-items ${product[i].type}">
                <img class="product-img" src="${product[i].img}" alt="">
                <p style="font-size: 1.2vw;">${product[i].name}</p>
                <p style="font-size: 1vw;">${numberWithCommas(product[i].price)} THB</p>
            </div>
        `;
    }
    $("#productlist").html(html);
})

function numberWithCommas(x) {
    x = x.toString();
    var pattern = /(-?\d+)(\d{3})/;
    while (pattern.test(x))
        x = x.replace(pattern, "$1,$2");
    return x;
}

function searchsomething(elem) {
    var value = $('#' + elem.id).val();
    console.log(value);

    var html = '';
    for (let i = 0; i < product.length; i++) {
        if (product[i].name.includes(value)) {
            html += `
                <div onclick="openProductDetail(${i})" class="product-items ${product[i].type}">
                    <img class="product-img" src="${product[i].img}" alt="">
                    <p style="font-size: 1.2vw;">${product[i].name}</p>
                    <p style="font-size: 1vw;">${numberWithCommas(product[i].price)} THB</p>
                </div>
            `;
        }
    }
    if (html == '') {
        $("#productlist").html(`<p>Not found product</p>`);
    } else {
        $("#productlist").html(html);
    }
}

function searchproduct(param) {
    console.log(param);
    $(".product-items").css('display', 'none'); 
    if (param == 'All') {
        $(".product-items").css('display', 'block'); 
    } else if (param == 'Shoe') {
        $(".shoe").css('display', 'block'); 
    } else if (param == 'Shirt') {
        $(".shirt").css('display', 'block');  
    } else if (param == 'Pants') {
        $(".pants").css('display', 'block');  
    } else if (param == 'Accessories') {
        $(".accessories").css('display', 'block'); 
    } else if (param == 'Hat') {
        $(".hat").css('display', 'block'); 
    } else if (param == 'Equipment') {
        $(".equipment").css('display', 'block');
    }
    else if (param == 'Bag') {
        $(".bag").css('display', 'block');
    }
}

var productindex = 0;
function openProductDetail(index) {
    productindex = index;
    console.log(productindex)
    $("#modalDesc").css('display', 'flex')
    $("#mdd-img").attr('src', product[index].img);
    $("#mdd-name").text(product[index].name)
    $("#mdd-price").text(numberWithCommas(product[index].price) + ' THB')
    $("#mdd-desc").text(product[index].description)
}

function closeModal() {
    $(".modal").css('display', 'none')
}

var cart = [];

function addtocart() {
    var pass = true;

    for (let i = 0; i < cart.length; i++) {
        if( productindex == cart[i].index ) {
            console.log('found same product')
            cart[i].count++;
            pass = false;
        }
    }

    if(pass) {
        var obj = {
            index: productindex,
            id: product[productindex].id,
            name: product[productindex].name,
            price: product[productindex].price,
            img: product[productindex].img,
            count: 1
        };
        cart.push(obj);
    }
    console.log(cart);

    Swal.fire({
        icon: 'success',
        title: 'Add ' + product[productindex].name + ' to cart !'
    });
    $("#cartcount").css('display','flex').text(cart.length);
}

function openCart() {
    $('#modalCart').css('display', 'flex');
    console.log("Cart modal should open now.");
    rendercart();
}

function rendercart() {
    if (cart.length > 0) {
        var html = '';
        for (let i = 0; i < cart.length; i++) {
            html += `
                <div class="cartlist-items">
                    <div class="cartlist-left">
                        <img src="${cart[i].img}" alt="">
                        <div class="cartlist-detail">
                            <p style="font-size: 1.5vw;">${cart[i].name}</p>
                            <p style="font-size: 1.2vw;">${numberWithCommas(cart[i].price * cart[i].count)} THB</p>
                        </div>
                    </div>
                    <div class="cartlist-right">
                        <p onclick="deinitems('-', ${i})" class="btnc">-</p>
                        <p id="countitems${i}" style="margin: 0 20px;">${cart[i].count}</p>
                        <p onclick="deinitems('+', ${i})" class="btnc">+</p>
                    </div>
                </div>
            `;
        }
        $("#mycart").html(html)
    }
    else {
        $("#mycart").html(`<p>Not found product list</p>`)
    }
}

function deinitems(action, index) {
    if (action == '-') {
        if (cart[index].count > 0) {
            cart[index].count--;
            $("#countitems" + index).text(cart[index].count)

            if (cart[index].count <= 0) {
                Swal.fire({
                    icon: 'warning',
                    title: 'Are you sure to delete?',
                    showConfirmButton: true,
                    showCancelButton: true,
                    confirmButtonText: 'Delete',
                    cancelButtonText: 'Cancel'
                }).then((res) => {
                    if (res.isConfirmed) {
                        cart.splice(index, 1)
                        console.log(cart)
                        rendercart();
                        $("#cartcount").css('display', 'flex').text(cart.length)

                        if (cart.length <= 0) {
                            $("#cartcount").css('display', 'none')
                        }
                    }
                    else {
                        cart[index].count++;
                        $("#countitems" + index).text(cart[index].count)
                        rendercart();
                    }
                })
            }
            rendercart();
        }

    }
    else if (action == '+') {
        cart[index].count++;
        $("#countitems" + index).text(cart[index].count)
        rendercart();
    }
}

$(document).ready(() => {
    let currentUser = JSON.parse(localStorage.getItem("currentUser"));

    if (currentUser) {
        $("#userInfo").html(`
            <div class="nav-user">
                <span>👤 ${currentUser.username}</span>
                <button onclick="logout()">Logout</button>
            </div>
        `);
        $(".login").hide();
    }
});

function logout() {
    localStorage.removeItem("currentUser");
    location.reload();
}




